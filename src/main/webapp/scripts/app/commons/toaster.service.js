/**
 * Created by mmasuyama on 11/10/2015.
 */
/// <reference path="../../../typings/tsd.d.ts" />
/// <reference path="subscriptions.service.ts" />
var Onesnap;
(function (Onesnap) {
    var ToasterService = (function () {
        /** @ngInject */
        function ToasterService(StreamsService, $mdToast, $translate) {
            var _this = this;
            this.StreamsService = StreamsService;
            this.$mdToast = $mdToast;
            this.$translate = $translate;
            this.toasterStream = new Rx.Subject();
            this.observables = [];
            this.StreamsService.setGeneralListener(this.toasterStream);
            this.toasterStream.subscribe(function (observable) {
                _this.observables.push(observable);
                _this.streams = Rx.Observable.merge(_this.observables);
                _this.streams.subscribe(function (notification) {
                    _this.showToaster(notification, 'SUCCESS');
                });
            }, function (error) {
                _this.showToaster(error, 'ERROR');
            });
        }
        ToasterService.prototype.showToaster = function (notification, type) {
            switch (notification.type) {
                case ('PUT'):
                    this.$mdToast.showSimple('Datos actualizados correctamente (texto Hardcodeado)');
                    break;
                case ('POST'):
                    this.$mdToast.showSimple('Datos guardados correctamente (texto Hardcodeado)');
                    break;
                case ('DELETE'):
                    this.$mdToast.showSimple('Datos eliminados correctamente (texto Hardcodeado)');
                    break;
            }
        };
        return ToasterService;
    })();
    Onesnap.ToasterService = ToasterService;
    angular.module('springTestApp').service('ToasterService', ToasterService);
})(Onesnap || (Onesnap = {}));

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1vbnMvdG9hc3Rlci5zZXJ2aWNlLnRzIl0sIm5hbWVzIjpbIk9uZXNuYXAiLCJPbmVzbmFwLlRvYXN0ZXJTZXJ2aWNlIiwiT25lc25hcC5Ub2FzdGVyU2VydmljZS5jb25zdHJ1Y3RvciIsIk9uZXNuYXAuVG9hc3RlclNlcnZpY2Uuc2hvd1RvYXN0ZXIiXSwibWFwcGluZ3MiOiJBQUFBOztHQUVHO0FBRUgsQUFHQSxrREFIa0Q7QUFDbEQsaURBQWlEO0FBRWpELElBQU8sT0FBTyxDQWtEYjtBQWxERCxXQUFPLE9BQU8sRUFBQyxDQUFDO0lBTWRBLElBQWFBLGNBQWNBO1FBTXpCQyxnQkFBZ0JBO1FBQ2hCQSxTQVBXQSxjQUFjQSxDQU9KQSxjQUFzQ0EsRUFBVUEsUUFBUUEsRUFBVUEsVUFBVUE7WUFQbkdDLGlCQXdDQ0E7WUFqQ3NCQSxtQkFBY0EsR0FBZEEsY0FBY0EsQ0FBd0JBO1lBQVVBLGFBQVFBLEdBQVJBLFFBQVFBLENBQUFBO1lBQVVBLGVBQVVBLEdBQVZBLFVBQVVBLENBQUFBO1lBQy9GQSxJQUFJQSxDQUFDQSxhQUFhQSxHQUFHQSxJQUFJQSxFQUFFQSxDQUFDQSxPQUFPQSxFQUFNQSxDQUFDQTtZQUMxQ0EsSUFBSUEsQ0FBQ0EsV0FBV0EsR0FBR0EsRUFBRUEsQ0FBQ0E7WUFDdEJBLElBQUlBLENBQUNBLGNBQWNBLENBQUNBLGtCQUFrQkEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsYUFBYUEsQ0FBQ0EsQ0FBQ0E7WUFFM0RBLElBQUlBLENBQUNBLGFBQWFBLENBQUNBLFNBQVNBLENBQUNBLFVBQUNBLFVBQVVBO2dCQUN0Q0EsS0FBSUEsQ0FBQ0EsV0FBV0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsVUFBVUEsQ0FBQ0EsQ0FBQ0E7Z0JBQ2xDQSxLQUFJQSxDQUFDQSxPQUFPQSxHQUFHQSxFQUFFQSxDQUFDQSxVQUFVQSxDQUFDQSxLQUFLQSxDQUFDQSxLQUFJQSxDQUFDQSxXQUFXQSxDQUFDQSxDQUFDQTtnQkFDckRBLEtBQUlBLENBQUNBLE9BQU9BLENBQUNBLFNBQVNBLENBQUNBLFVBQUNBLFlBQVlBO29CQUNsQ0EsS0FBSUEsQ0FBQ0EsV0FBV0EsQ0FBQ0EsWUFBWUEsRUFBRUEsU0FBU0EsQ0FBQ0EsQ0FBQ0E7Z0JBQzVDQSxDQUFDQSxDQUFDQSxDQUFBQTtZQUNKQSxDQUFDQSxFQUFDQSxVQUFDQSxLQUFLQTtnQkFDTkEsS0FBSUEsQ0FBQ0EsV0FBV0EsQ0FBQ0EsS0FBS0EsRUFBRUEsT0FBT0EsQ0FBQ0EsQ0FBQ0E7WUFDbkNBLENBQUNBLENBQUNBLENBQUNBO1FBQ0xBLENBQUNBO1FBRURELG9DQUFXQSxHQUFYQSxVQUFZQSxZQUFZQSxFQUFFQSxJQUFJQTtZQUU1QkUsTUFBTUEsQ0FBQUEsQ0FBQ0EsWUFBWUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQUEsQ0FBQ0E7Z0JBQ3hCQSxLQUFJQSxDQUFDQSxLQUFLQSxDQUFDQTtvQkFDTEEsSUFBSUEsQ0FBQ0EsUUFBUUEsQ0FBQ0EsVUFBVUEsQ0FBQ0Esc0RBQXNEQSxDQUFDQSxDQUFDQTtvQkFDakZBLEtBQUtBLENBQUNBO2dCQUNaQSxLQUFJQSxDQUFDQSxNQUFNQSxDQUFDQTtvQkFDVkEsSUFBSUEsQ0FBQ0EsUUFBUUEsQ0FBQ0EsVUFBVUEsQ0FBQ0EsbURBQW1EQSxDQUFDQSxDQUFDQTtvQkFDOUVBLEtBQUtBLENBQUNBO2dCQUNSQSxLQUFJQSxDQUFDQSxRQUFRQSxDQUFDQTtvQkFDWkEsSUFBSUEsQ0FBQ0EsUUFBUUEsQ0FBQ0EsVUFBVUEsQ0FBQ0Esb0RBQW9EQSxDQUFDQSxDQUFDQTtvQkFDL0VBLEtBQUtBLENBQUNBO1lBQ1ZBLENBQUNBO1FBRUhBLENBQUNBO1FBR0hGLHFCQUFDQTtJQUFEQSxDQXhDQUQsQUF3Q0NDLElBQUFEO0lBeENZQSxzQkFBY0EsR0FBZEEsY0F3Q1pBLENBQUFBO0lBRURBLE9BQU9BLENBQUNBLE1BQU1BLENBQUNBLGVBQWVBLENBQUNBLENBQzlCQSxPQUFPQSxDQUFDQSxnQkFBZ0JBLEVBQUVBLGNBQWNBLENBQUNBLENBQUNBO0FBQzdDQSxDQUFDQSxFQWxETSxPQUFPLEtBQVAsT0FBTyxRQWtEYiIsImZpbGUiOiJjb21tb25zL3RvYXN0ZXIuc2VydmljZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ3JlYXRlZCBieSBtbWFzdXlhbWEgb24gMTEvMTAvMjAxNS5cbiAqL1xuXG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vLi4vdHlwaW5ncy90c2QuZC50c1wiIC8+XG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwic3Vic2NyaXB0aW9ucy5zZXJ2aWNlLnRzXCIgLz5cblxubW9kdWxlIE9uZXNuYXAge1xuXG4gIGludGVyZmFjZSBJVG9hc3RlciB7XG4gICAgc2hvd1RvYXN0ZXIobm90aWZpY2F0aW9uLCB0eXBlKVxuICB9XG5cbiAgZXhwb3J0IGNsYXNzIFRvYXN0ZXJTZXJ2aWNlIGltcGxlbWVudHMgSVRvYXN0ZXJ7XG4gICAgcHJpdmF0ZSB0b2FzdGVyU3RyZWFtO1xuICAgIHByaXZhdGUgYXJyYXlPYnNlcnY7XG4gICAgcHJpdmF0ZSBzdHJlYW1zO1xuICAgIHByaXZhdGUgb2JzZXJ2YWJsZXM7XG5cbiAgICAvKiogQG5nSW5qZWN0ICovXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSAgU3RyZWFtc1NlcnZpY2U6IE9uZXNuYXAuU3RyZWFtc1NlcnZpY2UsIHByaXZhdGUgJG1kVG9hc3QsIHByaXZhdGUgJHRyYW5zbGF0ZSkge1xuICAgICAgdGhpcy50b2FzdGVyU3RyZWFtID0gbmV3IFJ4LlN1YmplY3Q8e30+KCk7XG4gICAgICB0aGlzLm9ic2VydmFibGVzID0gW107XG4gICAgICB0aGlzLlN0cmVhbXNTZXJ2aWNlLnNldEdlbmVyYWxMaXN0ZW5lcih0aGlzLnRvYXN0ZXJTdHJlYW0pO1xuXG4gICAgICB0aGlzLnRvYXN0ZXJTdHJlYW0uc3Vic2NyaWJlKChvYnNlcnZhYmxlKSA9PiB7XG4gICAgICAgIHRoaXMub2JzZXJ2YWJsZXMucHVzaChvYnNlcnZhYmxlKTtcbiAgICAgICAgdGhpcy5zdHJlYW1zID0gUnguT2JzZXJ2YWJsZS5tZXJnZSh0aGlzLm9ic2VydmFibGVzKTtcbiAgICAgICAgdGhpcy5zdHJlYW1zLnN1YnNjcmliZSgobm90aWZpY2F0aW9uKSA9PiB7XG4gICAgICAgICAgdGhpcy5zaG93VG9hc3Rlcihub3RpZmljYXRpb24sICdTVUNDRVNTJyk7XG4gICAgICAgIH0pXG4gICAgICB9LChlcnJvcik9PiB7XG4gICAgICAgIHRoaXMuc2hvd1RvYXN0ZXIoZXJyb3IsICdFUlJPUicpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgc2hvd1RvYXN0ZXIobm90aWZpY2F0aW9uLCB0eXBlKXtcbiAgICAgIFxuICAgICAgc3dpdGNoKG5vdGlmaWNhdGlvbi50eXBlKXtcbiAgICAgICAgY2FzZSgnUFVUJyk6XG4gICAgICAgICAgICAgIHRoaXMuJG1kVG9hc3Quc2hvd1NpbXBsZSgnRGF0b3MgYWN0dWFsaXphZG9zIGNvcnJlY3RhbWVudGUgKHRleHRvIEhhcmRjb2RlYWRvKScpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSgnUE9TVCcpOlxuICAgICAgICAgIHRoaXMuJG1kVG9hc3Quc2hvd1NpbXBsZSgnRGF0b3MgZ3VhcmRhZG9zIGNvcnJlY3RhbWVudGUgKHRleHRvIEhhcmRjb2RlYWRvKScpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlKCdERUxFVEUnKTpcbiAgICAgICAgICB0aGlzLiRtZFRvYXN0LnNob3dTaW1wbGUoJ0RhdG9zIGVsaW1pbmFkb3MgY29ycmVjdGFtZW50ZSAodGV4dG8gSGFyZGNvZGVhZG8pJyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICB9XG4gICAgXG4gICBcbiAgfVxuICBcbiAgYW5ndWxhci5tb2R1bGUoJ3NwcmluZ1Rlc3RBcHAnKVxuICAuc2VydmljZSgnVG9hc3RlclNlcnZpY2UnLCBUb2FzdGVyU2VydmljZSk7XG59XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=