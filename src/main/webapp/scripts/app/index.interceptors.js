/// <reference path="commons/subscriptions.service.ts" />
/// <reference path="../../typings/tsd.d.ts" />
var Onesnap;
(function (Onesnap) {
    var RXInterceptor = (function () {
        function RXInterceptor(StreamsService) {
            this.StreamsService = StreamsService;
            return;
        }
        RXInterceptor.prototype.response = function (response) {
            console.log(response.data.path);
            if (response.data.path && response.status == 200) {
                this.StreamsService.setStream(response.data.path, new Rx.Subject());
            }
            return response;
        };
        return RXInterceptor;
    })();
    Onesnap.RXInterceptor = RXInterceptor;
    function getInstance(StreamsService) {
        return new RXInterceptor(StreamsService);
    }
    Onesnap.getInstance = getInstance;
    angular.module('springTestApp').factory('rxInterceptorFactory', getInstance);
})(Onesnap || (Onesnap = {}));

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmludGVyY2VwdG9ycy50cyJdLCJuYW1lcyI6WyJPbmVzbmFwIiwiT25lc25hcC5SWEludGVyY2VwdG9yIiwiT25lc25hcC5SWEludGVyY2VwdG9yLmNvbnN0cnVjdG9yIiwiT25lc25hcC5SWEludGVyY2VwdG9yLnJlc3BvbnNlIiwiT25lc25hcC5nZXRJbnN0YW5jZSJdLCJtYXBwaW5ncyI6IkFBQUEseURBQXlEO0FBQ3pELCtDQUErQztBQUUvQyxJQUFPLE9BQU8sQ0F5QmI7QUF6QkQsV0FBTyxPQUFPLEVBQUMsQ0FBQztJQUVmQSxJQUFhQSxhQUFhQTtRQUN6QkMsU0FEWUEsYUFBYUEsQ0FDTEEsY0FBdUNBO1lBQXZDQyxtQkFBY0EsR0FBZEEsY0FBY0EsQ0FBeUJBO1lBQzFEQSxNQUFNQSxDQUFDQTtRQUNSQSxDQUFDQTtRQUNERCxnQ0FBUUEsR0FBUkEsVUFBVUEsUUFBUUE7WUFDakJFLE9BQU9BLENBQUNBLEdBQUdBLENBQUNBLFFBQVFBLENBQUNBLElBQUlBLENBQUNBLElBQUlBLENBQUNBLENBQUNBO1lBQ2hDQSxFQUFFQSxDQUFBQSxDQUFDQSxRQUFRQSxDQUFDQSxJQUFJQSxDQUFDQSxJQUFJQSxJQUFJQSxRQUFRQSxDQUFDQSxNQUFNQSxJQUFJQSxHQUFHQSxDQUFDQSxDQUFDQSxDQUFDQTtnQkFDakRBLElBQUlBLENBQUNBLGNBQWNBLENBQUNBLFNBQVNBLENBQUNBLFFBQVFBLENBQUNBLElBQUlBLENBQUNBLElBQUlBLEVBQUVBLElBQUlBLEVBQUVBLENBQUNBLE9BQU9BLEVBQU1BLENBQUNBLENBQUFBO1lBQ3hFQSxDQUFDQTtZQUVEQSxNQUFNQSxDQUFDQSxRQUFRQSxDQUFBQTtRQUNoQkEsQ0FBQ0E7UUFDRkYsb0JBQUNBO0lBQURBLENBWkFELEFBWUNDLElBQUFEO0lBWllBLHFCQUFhQSxHQUFiQSxhQVlaQSxDQUFBQTtJQUdEQSxTQUFnQkEsV0FBV0EsQ0FBQ0EsY0FBdUNBO1FBQ2xFSSxNQUFNQSxDQUFDQSxJQUFJQSxhQUFhQSxDQUFDQSxjQUFjQSxDQUFDQSxDQUFBQTtJQUN6Q0EsQ0FBQ0E7SUFGZUosbUJBQVdBLEdBQVhBLFdBRWZBLENBQUFBO0lBR0RBLE9BQU9BLENBQUNBLE1BQU1BLENBQUNBLGVBQWVBLENBQUNBLENBQzdCQSxPQUFPQSxDQUFDQSxzQkFBc0JBLEVBQUVBLFdBQVdBLENBQUNBLENBQUNBO0FBRWhEQSxDQUFDQSxFQXpCTSxPQUFPLEtBQVAsT0FBTyxRQXlCYiIsImZpbGUiOiJpbmRleC5pbnRlcmNlcHRvcnMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiY29tbW9ucy9zdWJzY3JpcHRpb25zLnNlcnZpY2UudHNcIiAvPlxyXG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vdHlwaW5ncy90c2QuZC50c1wiIC8+XHJcblxyXG5tb2R1bGUgT25lc25hcCB7XHJcblx0XHJcblx0ZXhwb3J0IGNsYXNzIFJYSW50ZXJjZXB0b3Ige1xyXG5cdFx0Y29uc3RydWN0b3IocHJpdmF0ZSBTdHJlYW1zU2VydmljZSA6IE9uZXNuYXAuU3RyZWFtc1NlcnZpY2UpIHtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cdFx0cmVzcG9uc2UgKHJlc3BvbnNlKSB7XHJcblx0XHRcdGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEucGF0aCk7XHJcblx0XHRcdGlmKHJlc3BvbnNlLmRhdGEucGF0aCAmJiByZXNwb25zZS5zdGF0dXMgPT0gMjAwKSB7XHJcblx0XHRcdFx0dGhpcy5TdHJlYW1zU2VydmljZS5zZXRTdHJlYW0ocmVzcG9uc2UuZGF0YS5wYXRoLCBuZXcgUnguU3ViamVjdDx7fT4oKSlcdFxyXG5cdFx0XHR9XHJcblx0XHRcclxuXHRcdFx0cmV0dXJuIHJlc3BvbnNlXHJcblx0XHR9XHJcblx0fVxyXG5cdFxyXG5cdFxyXG5cdGV4cG9ydCBmdW5jdGlvbiBnZXRJbnN0YW5jZShTdHJlYW1zU2VydmljZSA6IE9uZXNuYXAuU3RyZWFtc1NlcnZpY2UpIHtcclxuXHRcdHJldHVybiBuZXcgUlhJbnRlcmNlcHRvcihTdHJlYW1zU2VydmljZSlcclxuXHR9XHJcblx0XHJcblx0XHJcblx0YW5ndWxhci5tb2R1bGUoJ3NwcmluZ1Rlc3RBcHAnKVxyXG5cdFx0LmZhY3RvcnkoJ3J4SW50ZXJjZXB0b3JGYWN0b3J5JywgZ2V0SW5zdGFuY2UpO1xyXG5cdFxyXG59Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9